-- Add waypoints and script Skyguard Scouts in Skyguard Outpost
-- 4 possible paths. 2 are just pathing. 1 interacts with Tork in Ogri'la. 1 interacts with a Skyguard Navigator
DELETE FROM creature_template_addon WHERE entry=22980; -- They are not mounted by default
DELETE FROM creature WHERE (guid BETWEEN 161467 AND 161469) AND id=22980;
INSERT INTO creature (guid, id, map, spawnMask, modelid, equipment_id, position_x, position_y, position_z, orientation, spawntimesecsmin, spawntimesecsmax, spawndist, curhealth, curmana, MovementType) VALUES
(161467,22980,530,1,0,0,2497.198,7322.018,370.9466,6.162856,45,45,0,0,0,2),
(161468,22980,530,1,0,0,2495.318,7320.268,370.1758,1.101578,45,45,0,0,0,0), -- Buddy 1
(161469,22980,530,1,0,0,2492.166,7325.367,369.3455,5.334597,45,45,0,0,0,0); -- Buddy 2

DELETE FROM creature_linking WHERE master_guid IN (161467);
INSERT INTO creature_linking (guid, master_guid, flag) VALUES
(161468,161467,128|512|1024|8192), -- FLAG_RESPAWN_ON_RESPAWN| FLAG_FOLLOW | FLAG_CANT_SPAWN_IF_BOSS_DEAD | FLAG_DESPAWN_ON_DESPAWN
(161469,161467,128|512|1024|8192);

DELETE FROM `dbscripts_on_relay` WHERE (`id` BETWEEN 10141 AND 10148) AND comments LIKE 'Skyguard Scout -%';
INSERT INTO `dbscripts_on_relay` (`id`,`delay`,`command`,`datalong`,`datalong2`,`datalong3`,`dataint`,`dataint2`,`dataint3`,`dataint4`,`buddy_entry`,`search_radius`,`data_flags`,`comments`,`x`,`y`,`z`,`o`) VALUES
(10141,0,20,2,1,0,0,0,0,0,0,0,0,'Skyguard Scout - Start PathId 1',0,0,0,0),
(10142,0,20,2,2,0,0,0,0,0,0,0,0,'Skyguard Scout - Start PathId 2',0,0,0,0),
(10143,0,20,2,3,0,0,0,0,0,0,0,0,'Skyguard Scout - Start PathId 3',0,0,0,0),
(10144,0,20,2,4,0,0,0,0,0,0,0,0,'Skyguard Scout - Start PathId 4',0,0,0,0),

(10145,0,24,21152,0,0,0,0,0,0,0,0,8,'Skyguard Scout - Mount Variant 1',0,0,0,0),
(10146,0,24,21155,0,0,0,0,0,0,0,0,8,'Skyguard Scout - Mount Variant 2',0,0,0,0),
(10147,0,24,21156,0,0,0,0,0,0,0,0,8,'Skyguard Scout - Mount Variant 3',0,0,0,0),
(10148,0,24,21158,0,0,0,0,0,0,0,0,8,'Skyguard Scout - Mount Variant 4',0,0,0,0);

DELETE FROM dbscript_random_templates WHERE id IN(10157,10158) AND (target_id BETWEEN 10141 AND 10148);
INSERT INTO dbscript_random_templates (id,type,target_id,chance,comments) VALUES
(10157,1,10141,0,'Skyguard Scout - Random PathId 1-4'),
(10157,1,10142,0,'Skyguard Scout - Random PathId 1-4'),
(10157,1,10143,0,'Skyguard Scout - Random PathId 1-4'),
(10157,1,10144,0,'Skyguard Scout - Random PathId 1-4'),

(10158,1,10145,0,'Skyguard Scout - Random Mount 1-4'),
(10158,1,10146,0,'Skyguard Scout - Random Mount 1-4'),
(10158,1,10147,0,'Skyguard Scout - Random Mount 1-4'),
(10158,1,10148,0,'Skyguard Scout - Random Mount 1-4');

-- IDs intentionally do not start at _01. They will be used in skettis
DELETE FROM `dbscripts_on_creature_movement` WHERE `id` IN(2298004,2298005,2298006,2298007,2298008,2298009);
INSERT INTO `dbscripts_on_creature_movement` (`id`,`delay`,`command`,`datalong`,`datalong2`,`datalong3`,`dataint`,`dataint2`,`dataint3`,`dataint4`,`buddy_entry`,`search_radius`,`data_flags`,`comments`,`x`,`y`,`z`,`o`) VALUES
(2298004,3,1,66,0,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - OneShotSalute',0,0,0,0),
(2298004,3,1,66,0,0,0,0,0,0,22980,161468,23,'Skyguard Scout (Buddy 1) - OneShotSalute',0,0,0,0),
(2298004,3,1,66,0,0,0,0,0,0,22980,161469,23,'Skyguard Scout (Buddy 2) - OneShotSalute',0,0,0,0),

(2298005,1,25,1,0,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - Run On',0,0,0,0),
(2298005,1,25,1,0,0,0,0,0,0,22980,161468,23,'Skyguard Scout (Buddy 1) - Run On',0,0,0,0),
(2298005,1,25,1,0,0,0,0,0,0,22980,161469,23,'Skyguard Scout (Buddy 2) - Run On',0,0,0,0),
(2298005,1,45,0,10158,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - Mount Randomly 1-4',0,0,0,0),
(2298005,1,45,0,10158,0,0,0,0,0,22980,161468,23,'Skyguard Scout (Buddy 1) - Mount Randomly 1-4',0,0,0,0),
(2298005,1,45,0,10158,0,0,0,0,0,22980,161469,23,'Skyguard Scout (Buddy 2) - Mount Randomly 1-4',0,0,0,0),
(2298005,4,39,1,0,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - Fly On',0,0,0,0),
(2298005,4,39,1,0,0,0,0,0,0,22980,161468,23,'Skyguard Scout (Buddy 1) - Fly On',0,0,0,0),
(2298005,4,39,1,0,0,0,0,0,0,22980,161469,23,'Skyguard Scout (Buddy 2) - Fly On',0,0,0,0),
(2298005,4,45,0,10157,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - Start Random Path 1-4',0,0,0,0),

(2298006,5,25,0,0,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - Run Off',0,0,0,0),
(2298006,5,25,0,0,0,0,0,0,0,22980,161468,23,'Skyguard Scout (Buddy 1) - Run Off',0,0,0,0),
(2298006,5,25,0,0,0,0,0,0,0,22980,161469,23,'Skyguard Scout (Buddy 2) - Run Off',0,0,0,0),
(2298006,5,24,0,0,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - Dismount',0,0,0,0),
(2298006,5,24,0,0,0,0,0,0,0,22980,161468,23,'Skyguard Scout (Buddy 1) - Dismount',0,0,0,0),
(2298006,5,24,0,0,0,0,0,0,0,22980,161469,23,'Skyguard Scout (Buddy 2) - Dismount',0,0,0,0),
(2298006,6,39,0,0,0,0,0,0,0,0,0,0,'Skyguard Scout (Self) - Fly Off',0,0,0,0),
(2298006,6,39,0,0,0,0,0,0,0,22980,161468,23,'Skyguard Scout (Buddy 1) - Fly Off',0,0,0,0),
(2298006,6,39,0,0,0,0,0,0,0,22980,161469,23,'Skyguard Scout (Buddy 2) - Fly Off',0,0,0,0),

(2298007,0,20,2,1,0,0,0,0,0,22982,79868,23,'Skyguard Scout - Start PathId 1 for Skyguard Navigator',0,0,0,0),

(2298008,0,20,2,3,0,0,0,0,0,22982,79868,23,'Skyguard Scout - Start PathId 3 for Skyguard Navigator',0,0,0,0),

(2298009,0,21,1,0,0,0,0,0,0,23347,150,7,'Skyguard Scout - Set Tork Active Object',0,0,0,0), -- Turned off in Tork's own waypoints
(2298009,0,20,2,2,0,0,0,0,0,23347,150,7,'Skyguard Scout - Start PathId 2 for Tork',0,0,0,0);

DELETE FROM `creature_movement` WHERE `id`=161467;
INSERT INTO `creature_movement` (`id`,`point`,`position_x`,`position_y`,`position_z`,`waittime`,`script_id`,`orientation`) VALUES
(161467,1,2514.524,7319.927,373.9438,0,0,100),
(161467,2,2531.144,7322.156,373.4666,500,0,100),
(161467,3,2531.144,7322.156,373.4666,5000,2298004,1.58825),
(161467,4,2531.144,7322.156,373.4666,4100,2298005,0.03490658);

DELETE FROM creature_movement_template WHERE entry=22980 AND (pathId BETWEEN 1 AND 4);
INSERT INTO `creature_movement_template` (`entry`,`pathId`,`point`,`position_x`,`position_y`,`position_z`,`waittime`,`script_id`,`orientation`) VALUES
(22980,1,1,2539.701,7321.768,377.7467,0,0,100),
(22980,1,2,2547.898,7320.045,382.08,0,0,100),
(22980,1,3,2558.491,7313.088,384.3853,0,0,100),
(22980,1,4,2570.795,7313.769,384.3853,0,0,100),
(22980,1,5,2579.593,7321.146,384.3853,0,0,100),
(22980,1,6,2586.74,7333.273,384.3853,0,0,100),
(22980,1,7,2585.621,7346.289,384.3853,0,0,100),
(22980,1,8,2581.062,7364.208,390.913,0,0,100),
(22980,1,9,2559.498,7365.538,397.385,0,0,100),
(22980,1,10,2533.121,7381.147,401.7744,0,0,100),
(22980,1,11,2517.417,7374.82,407.1863,0,0,100),
(22980,1,12,2506.348,7371.658,402.9588,0,0,100),
(22980,1,13,2462.706,7349.538,400.2367,0,0,100),
(22980,1,14,2441.134,7332.799,391.0707,0,2298009,100),
(22980,1,15,2400.996,7326.057,384.2649,0,0,100),
(22980,1,16,2364.55,7317.661,383.2372,0,0,100),
(22980,1,17,2321.565,7318.462,382.9595,0,0,100),
(22980,1,18,2308.158,7281.598,387.3758,0,0,100),
(22980,1,19,2346.563,7250.211,385.015,0,0,100),
(22980,1,20,2391.128,7229.869,386.8755,0,0,100),
(22980,1,21,2439.925,7216.557,387.181,0,0,100),
(22980,1,22,2468.234,7238.611,389.4592,0,0,100),
(22980,1,23,2467.916,7271.456,392.07,0,0,100),
(22980,1,24,2469.676,7287.952,392.07,0,0,100),
(22980,1,25,2470.438,7299.661,392.07,0,0,100),
(22980,1,26,2478.305,7309.641,392.07,0,0,100),
(22980,1,27,2489.651,7320.47,387.4313,0,0,100),
(22980,1,28,2516.671,7322.438,386.6261,0,0,100),
(22980,1,29,2530.238,7322.327,386.4867,0,0,100),
(22980,1,30,2557.704,7303.785,387.098,0,0,100),
(22980,1,31,2572.039,7295.759,387.098,0,0,100),
(22980,1,32,2607.372,7294.865,387.098,0,0,100),
(22980,1,33,2628.421,7306.318,387.098,0,0,100),
(22980,1,34,2602.263,7317.502,395.7924,0,0,100),
(22980,1,35,2561.603,7324.636,390.154,0,0,100),
(22980,1,36,2535.383,7336.952,388.0977,0,0,100),
(22980,1,37,2510.679,7340.661,385.3207,0,0,100),
(22980,1,38,2481.248,7335.915,384.4871,0,0,100),
(22980,1,39,2474.546,7309.829,387.098,0,0,100),
(22980,1,40,2496.409,7291.657,387.098,0,0,100),
(22980,1,41,2525.196,7277.702,387.098,0,0,100),
(22980,1,42,2546.905,7265.145,387.098,0,0,100),
(22980,1,43,2552.192,7252.129,387.098,0,0,100),
(22980,1,44,2535.712,7221.472,387.098,0,0,100),
(22980,1,45,2510.773,7217.793,387.098,0,0,100),
(22980,1,46,2495.303,7228.189,387.098,0,0,100),
(22980,1,47,2475.141,7254.213,387.098,0,0,100),
(22980,1,48,2477.047,7272.506,387.098,0,0,100),
(22980,1,49,2473.054,7307.932,387.098,0,0,100),
(22980,1,50,2487.075,7320.154,387.098,0,0,100),
(22980,1,51,2503.581,7321.79,379.5702,0,0,100),
(22980,1,52,2518.806,7322.156,376.1532,0,0,100),
(22980,1,53,2529.813,7321.688,373.6812,6000,2298006,100),
(22980,1,54,2562.185,7312.279,366.8742,1000,1,100),

(22980,2,1,2539.701,7321.768,377.7467,0,0,100),
(22980,2,2,2547.898,7320.045,382.08,0,0,100),
(22980,2,3,2558.491,7313.088,384.3853,0,0,100),
(22980,2,4,2570.795,7313.769,384.3853,0,0,100),
(22980,2,5,2579.593,7321.146,384.3853,0,0,100),
(22980,2,6,2586.74,7333.273,384.3853,0,0,100),
(22980,2,7,2585.621,7346.289,384.3853,0,0,100),
(22980,2,8,2581.062,7364.208,390.913,0,0,100),
(22980,2,9,2563.057,7367.321,397.385,0,0,100),
(22980,2,10,2548.226,7368.938,401.7744,0,0,100),
(22980,2,11,2532.861,7383.886,404.0476,0,0,100),
(22980,2,12,2520.145,7381.027,402.9588,0,0,100),
(22980,2,13,2495.618,7376.434,402.8476,0,0,100),
(22980,2,14,2467.16,7363.36,403.5699,0,0,100),
(22980,2,15,2458.968,7351.768,403.9865,0,0,100),
(22980,2,16,2465.411,7333.682,404.6253,0,0,100),
(22980,2,17,2477.273,7298.054,398.3475,0,0,100),
(22980,2,18,2476.693,7273.409,392.07,0,0,100),
(22980,2,19,2486.313,7227.358,392.07,0,0,100),
(22980,2,20,2520.178,7208.569,392.07,0,0,100),
(22980,2,21,2547.494,7233.139,392.07,0,0,100),
(22980,2,22,2590.75,7252.094,387.098,0,0,100),
(22980,2,23,2612.28,7282.705,387.098,0,0,100),
(22980,2,24,2614.198,7324.783,402.9868,0,0,100),
(22980,2,25,2594.836,7352.306,412.1263,0,0,100),
(22980,2,26,2555.842,7355.359,405.5973,0,0,100),
(22980,2,27,2510.679,7340.661,405.0149,0,0,100),
(22980,2,28,2477.989,7326.824,397.5703,0,0,100),
(22980,2,29,2477.479,7301.292,387.098,0,0,100),
(22980,2,30,2496.409,7291.657,387.098,0,0,100),
(22980,2,31,2525.196,7277.702,387.098,0,0,100),
(22980,2,32,2546.905,7265.145,387.098,0,0,100),
(22980,2,33,2552.192,7252.129,387.098,0,0,100),
(22980,2,34,2535.712,7221.472,387.098,0,0,100),
(22980,2,35,2510.773,7217.793,387.098,0,0,100),
(22980,2,36,2495.303,7228.189,387.098,0,0,100),
(22980,2,37,2475.141,7254.213,387.098,0,0,100),
(22980,2,38,2472.293,7280.334,387.098,0,0,100),
(22980,2,39,2473.054,7307.932,387.098,0,0,100),
(22980,2,40,2487.075,7320.154,387.098,0,0,100),
(22980,2,41,2503.581,7321.79,379.5702,0,0,100),
(22980,2,42,2518.806,7322.156,376.1532,0,0,100),
(22980,2,43,2529.813,7321.688,373.6812,6000,2298006,100),
(22980,2,44,2562.185,7312.279,366.8742,1000,1,100),

-- (161467,4,2531.999,7321.94,373.6358,0,0,100),
(22980,3,1,2531.999,7321.94,373.6358,0,0,100),
(22980,3,2,2538.154,7321.152,377.7846,0,0,100),
(22980,3,3,2547.041,7321.101,380.757,0,0,100),
(22980,3,4,2561.481,7319.794,381.368,0,0,100),
(22980,3,5,2576.808,7312.116,383.8676,0,0,100),
(22980,3,6,2595.798,7300.021,383.8676,0,0,100),
(22980,3,7,2609.869,7279.451,383.8676,0,0,100),
(22980,3,8,2615.183,7256.752,383.8676,0,0,100),
(22980,3,9,2627.761,7225.034,383.8676,0,0,100),
(22980,3,10,2624.91,7184.938,383.8676,0,0,100),
(22980,3,11,2603.123,7174.568,383.8676,0,0,100),
(22980,3,12,2571.224,7185.012,383.8676,0,0,100),
(22980,3,13,2555.295,7215.268,383.8676,0,0,100),
(22980,3,14,2551.696,7251.59,392.5063,0,0,100),
(22980,3,15,2557.816,7296.194,397.8118,0,0,100),
(22980,3,16,2551.756,7334.276,399.3672,0,0,100),
(22980,3,17,2551.037,7361.479,402.367,0,0,100),
(22980,3,18,2538.429,7385.156,402.367,0,0,100),
(22980,3,19,2515.435,7376.702,402.367,0,0,100),
(22980,3,20,2497.942,7353.163,402.367,0,0,100),
(22980,3,21,2505.05,7324.205,402.367,0,0,100),
(22980,3,22,2539.595,7301.333,396.5338,0,0,100),
(22980,3,23,2563.185,7263.01,389.3672,0,0,100),
(22980,3,24,2543.139,7227.089,389.3672,0,0,100),
(22980,3,25,2503.237,7205.342,389.3672,0,0,100),
(22980,3,26,2466.112,7232.225,389.3672,0,0,100),
(22980,3,27,2462.023,7261.149,389.3672,0,0,100),
(22980,3,28,2469.583,7282.395,389.3672,0,0,100),
(22980,3,29,2481.85,7307.829,388.1728,0,0,100),
(22980,3,30,2486.618,7316.188,385.2839,0,0,100),
(22980,3,31,2512.464,7321.319,380.2004,0,0,100),
(22980,3,32,2530.098,7322.319,373.8671,6000,2298006,100),
(22980,3,33,2562.185,7312.279,366.8742,1000,1,100),

(22980,4,1,2539.701,7321.768,377.7467,0,2298007,100),
(22980,4,2,2547.898,7320.045,382.08,0,0,100),
(22980,4,3,2558.491,7313.088,384.3853,0,0,100),
(22980,4,4,2570.795,7313.769,384.3853,0,0,100),
(22980,4,5,2579.593,7321.146,384.3853,0,0,100),
(22980,4,6,2586.74,7333.273,384.3853,0,0,100),
(22980,4,7,2585.621,7346.289,384.3853,0,0,100),
(22980,4,8,2581.062,7364.208,390.913,0,0,100),
(22980,4,9,2563.057,7367.321,397.385,0,0,100),
(22980,4,10,2548.226,7368.938,401.7744,0,0,100),
(22980,4,11,2532.861,7383.886,404.0476,0,0,100),
(22980,4,12,2520.145,7381.027,402.9588,0,0,100),
(22980,4,13,2499.965,7368.997,402.8476,0,0,100),
(22980,4,14,2467.16,7363.36,392.07,0,0,100),
(22980,4,15,2445.337,7344.861,403.9865,0,0,100),
(22980,4,16,2458.872,7322.815,404.6253,0,0,100),
(22980,4,17,2477.273,7298.054,398.3475,0,0,100),
(22980,4,18,2476.693,7273.409,392.07,0,0,100),
(22980,4,19,2468.002,7252.925,392.07,0,0,100),
(22980,4,20,2486.313,7227.358,392.07,0,0,100),
(22980,4,21,2520.178,7208.569,392.07,0,0,100),
(22980,4,22,2547.494,7233.139,392.07,0,0,100),
(22980,4,23,2552.342,7253.593,392.07,0,0,100),
(22980,4,24,2546.552,7269.897,392.07,0,0,100),
(22980,4,25,2518.39,7281.89,392.07,0,0,100),
(22980,4,26,2499.52,7285.952,392.07,0,2298008,100),
(22980,4,27,2479.163,7295.578,392.07,0,0,100),
(22980,4,28,2478.305,7309.641,392.07,0,0,100),
(22980,4,29,2489.651,7320.47,387.4313,0,0,100),
(22980,4,30,2516.671,7322.438,386.6261,0,0,100),
(22980,4,31,2530.238,7322.327,386.4867,0,0,100),
(22980,4,32,2557.704,7303.785,387.098,0,0,100),
(22980,4,33,2572.039,7295.759,387.098,0,0,100),
(22980,4,34,2607.372,7294.865,387.098,0,0,100),
(22980,4,35,2628.421,7306.318,387.098,0,0,100),
(22980,4,36,2602.263,7317.502,395.7924,0,0,100),
(22980,4,37,2561.603,7324.636,390.154,0,0,100),
(22980,4,38,2535.383,7336.952,388.0977,0,0,100),
(22980,4,39,2510.679,7340.661,385.3207,0,0,100),
(22980,4,40,2481.248,7335.915,384.4871,0,0,100),
(22980,4,41,2474.546,7309.829,387.098,0,0,100),
(22980,4,42,2496.409,7291.657,387.098,0,0,100),
(22980,4,43,2525.196,7277.702,387.098,0,0,100),
(22980,4,44,2546.905,7265.145,387.098,0,0,100),
(22980,4,45,2552.192,7252.129,387.098,0,0,100),
(22980,4,46,2535.712,7221.472,387.098,0,0,100),
(22980,4,47,2510.773,7217.793,387.098,0,0,100),
(22980,4,48,2495.303,7228.189,387.098,0,0,100),
(22980,4,49,2475.141,7254.213,387.098,0,0,100),
(22980,4,50,2472.293,7280.334,387.098,0,0,100),
(22980,4,51,2473.054,7307.932,387.098,0,0,100),
(22980,4,52,2487.075,7320.154,387.098,0,0,100),
(22980,4,53,2503.581,7321.79,379.5702,0,0,100),
(22980,4,54,2518.806,7322.156,376.1532,0,0,100),
(22980,4,55,2529.813,7321.688,373.6812,6000,2298006,100),
(22980,4,56,2562.185,7312.279,366.8742,1000,1,100);

